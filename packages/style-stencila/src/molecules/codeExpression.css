:host,
stencila-code-expression {
  /** @prop --background: Background color of the `output` section */
  --background: var(--color-stock, #fff);

  /** @prop --background-buttons: Background color of the buttons */
  --background-buttons: var(--color-neutral-50, #edf2f7);

  /** @prop --background-editor: Background color of the cod editor section */
  --background-editor: var(--color-neutral-50, #edf2f7);

  /** @prop --border: Border color around the component as well as internal section dividers */
  --border: var(--color-neutral-100, #e2e8f0);

  @apply inline-flex relative items-stretch p-0 text-sm leading-none align-text-bottom border border-solid rounded;
  background-color: var(--background);
  border-color: var(--border);

  stencila-tooltip {
    @apply inline-flex items-stretch p-0 overflow-hidden leading-none align-bottom;
  }

  .actions {
    @apply relative inline-flex flex-initial whitespace-nowrap rounded-l;
    background-color: var(--background-buttons);

    stencila-button {
      @apply inline-flex items-stretch self-start flex-shrink-0 overflow-hidden cursor-default transition ease-out duration-150;
      transition-property: padding, width, max-width;
    }

    .secondaryAction {
      @apply inline-block w-0 overflow-hidden cursor-default transition ease-out duration-150;
    }
  }

  &.hover,
  &:focus,
  &:focus-within,
  &:hover {
    .actions .secondaryAction {
      @apply inline-flex w-5 max-w-full;
    }
  }

  .executeStatus {
    --height: 0.875rem;
    --width: 0.875rem;
    @apply p-1 cursor-pointer;

    &.scheduled {
      @apply cursor-wait;
    }
  }

  .text {
    @apply inline-block w-0 min-w-0 px-0 py-1 overflow-hidden font-mono text-sm leading-none whitespace-nowrap duration-150 ease-out text-key;
    background-color: var(--background-editor);
    transition-property: width;
  }

  &.isCodeVisible {
    .text {
      @apply inline-block w-auto px-2 py-1 whitespace-pre-line min-w-em;
    }
  }

  ::slotted([slot='output']),
  [slot='output'] {
    background-color: var(--background);
    transition: padding 120ms ease-out;

    stencila-icon {
      --height: 1rem;
      @apply h-4;

      svg {
        @apply h-4 stroke-warn-600;
      }
    }

    &:empty {
      display: none;
    }

    @apply inline-block p-0 m-0 border-none bg-stock leading-normal text-base text-key whitespace-normal;
    & > * {
      @apply inline-block p-0 m-0 border-none bg-stock leading-normal text-base text-key whitespace-normal;
    }
  }
}
