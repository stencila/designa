import{r as registerInstance,h,c as getElement}from"./index-2305c23c.js";var defaultActionMenuCss=".sc-stencila-action-menu-default-h{--background:var(--color-neutral-50,#edf2f7);--border:var(--color-neutral-100,#e2e8f0);background-color:var(--background);border-bottom-left-radius:.25rem;border-color:var(--border);border-style:solid;border-width:0 0 1px 1px;font-family:monospace;font-family:var(--font-family-mono,monospace);font-size:.75rem;line-height:1rem;line-height:1;padding:1px .25rem;position:absolute;right:0;top:0}.sc-stencila-action-menu-default-h .hidden.sc-stencila-action-menu-default{display:none}.sc-stencila-action-menu-default-h nav.sc-stencila-action-menu-default>*.sc-stencila-action-menu-default{vertical-align:middle}.sc-stencila-action-menu-default-h ul.sc-stencila-action-menu-default{list-style-type:none;margin:0;padding:0}.sc-stencila-action-menu-default-h li.sc-stencila-action-menu-default{display:inline;padding-right:.25rem}.sc-stencila-action-menu-default-h li.sc-stencila-action-menu-default:last-child{padding-right:0}.sc-stencila-action-menu-default-h .sc-stencila-action-menu-default-s>stencila-button,.sc-stencila-action-menu-default-h stencila-button.sc-stencila-action-menu-default{display:inline-block}.sc-stencila-action-menu-default-h .actionContainer.sc-stencila-action-menu-default{display:inline-block;overflow:hidden;-webkit-transition:width .12s ease-in-out;transition:width .12s ease-in-out;vertical-align:middle;white-space:nowrap;width:var(--max-width)}.sc-stencila-action-menu-default-h .actionContainer.sc-stencila-action-menu-default:not(.isAnimating):not(.isCollapsed){width:auto}.sc-stencila-action-menu-default-h .secondaryActions.sc-stencila-action-menu-default:not(:hover):not(:focus) .actionContainer.isCollapsed.sc-stencila-action-menu-default{width:0}";var materialActionMenuCss=".sc-stencila-action-menu-material-h{--background:var(--color-neutral-50,#edf2f7);--border:var(--color-neutral-100,#e2e8f0);background-color:var(--background);border-bottom-left-radius:.25rem;border-color:var(--border);border-style:solid;border-width:0 0 1px 1px;font-family:monospace;font-family:var(--font-family-mono,monospace);font-size:.75rem;line-height:1rem;line-height:1;padding:1px .25rem;position:absolute;right:0;top:0}.sc-stencila-action-menu-material-h .hidden.sc-stencila-action-menu-material{display:none}.sc-stencila-action-menu-material-h nav.sc-stencila-action-menu-material>*.sc-stencila-action-menu-material{vertical-align:middle}.sc-stencila-action-menu-material-h ul.sc-stencila-action-menu-material{list-style-type:none;margin:0;padding:0}.sc-stencila-action-menu-material-h li.sc-stencila-action-menu-material{display:inline;padding-right:.25rem}.sc-stencila-action-menu-material-h li.sc-stencila-action-menu-material:last-child{padding-right:0}.sc-stencila-action-menu-material-h .sc-stencila-action-menu-material-s>stencila-button,.sc-stencila-action-menu-material-h stencila-button.sc-stencila-action-menu-material{display:inline-block}.sc-stencila-action-menu-material-h .actionContainer.sc-stencila-action-menu-material{display:inline-block;overflow:hidden;-webkit-transition:width .12s ease-in-out;transition:width .12s ease-in-out;vertical-align:middle;white-space:nowrap;width:var(--max-width)}.sc-stencila-action-menu-material-h .actionContainer.sc-stencila-action-menu-material:not(.isAnimating):not(.isCollapsed){width:auto}.sc-stencila-action-menu-material-h .secondaryActions.sc-stencila-action-menu-material:not(:hover):not(:focus) .actionContainer.isCollapsed.sc-stencila-action-menu-material{width:0}";var slots={default:"",persistentActions:"persistentActions"};var ActionMenu=function(){function n(n){var t=this;registerInstance(this,n);this.isCollapsed=false;this.toggleActionMenu=function(){return t.isCollapsed=!t.isCollapsed};this.width="auto";this.isAnimating=false;this.isTransitioning=false;this.calculateWidth=function(){if(t.actionContainerRef&&t.isTransitioning===false){t.width="auto";var n=t.actionContainerRef.getBoundingClientRect().width;t.width="".concat(n,"px")}};this.observer=new window.MutationObserver(this.calculateWidth);this.checkForSecondaryActions=function(){t.hasSecondaryActions=Array.from(t.el.children).some((function(n){return n.slot===""}));return t.hasSecondaryActions}}n.prototype.componentWillLoad=function(){this.checkForSecondaryActions()};n.prototype.componentDidLoad=function(){var n=this;if(this.actionContainerRef){window.requestAnimationFrame((function(){if(n.actionContainerRef&&n.hasSecondaryActions){n.actionContainerRef.addEventListener("transitionstart",(function(){return n.isTransitioning=true}));n.actionContainerRef.addEventListener("transitionend",(function(){return n.isTransitioning=false}));n.observer.observe(n.el,{characterData:true,subtree:true});n.calculateWidth();n.isCollapsed=true}}))}};n.prototype.disconnectedCallback=function(){this.observer.disconnect()};n.prototype.render=function(){var n=this;if(this.el.children.length<=0)return null;return h("nav",null,h("span",{class:"persistentActions"},h("slot",{name:slots.persistentActions})),h("span",{class:{secondaryActions:true,hidden:!this.hasSecondaryActions}},h("stencila-button",{onClick:this.toggleActionMenu,icon:"more",color:"key",minimal:true,size:"xsmall",iconOnly:true,ariaLabel:"Toggle Action Menu"}),h("span",{class:{actionContainer:true,isAnimating:this.isAnimating,isCollapsed:this.isCollapsed},ref:function(t){return n.actionContainerRef=t},style:{"--max-width":this.width}},h("slot",null))))};Object.defineProperty(n.prototype,"el",{get:function(){return getElement(this)},enumerable:false,configurable:true});return n}();ActionMenu.style={default:defaultActionMenuCss,material:materialActionMenuCss};export{ActionMenu as stencila_action_menu};
//# sourceMappingURL=stencila-action-menu.entry.js.map