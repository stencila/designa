function wordObj(e){var t={};for(var r=0;r<e.length;++r)t[e[r]]=true;return t}var commonAtoms=["NULL","NA","Inf","NaN","NA_integer_","NA_real_","NA_complex_","NA_character_","TRUE","FALSE"];var commonBuiltins=["list","quote","bquote","eval","return","call","parse","deparse"];var commonKeywords=["if","else","repeat","while","function","for","in","next","break"];var commonBlockKeywords=["if","else","repeat","while","function","for"];var atoms=wordObj(commonAtoms);var builtins=wordObj(commonBuiltins);var keywords=wordObj(commonKeywords);var blockkeywords=wordObj(commonBlockKeywords);var opChars=/[+\-*\/^<>=!&|~$:]/;var curPunc;function tokenBase(e,t){curPunc=null;var r=e.next();if(r=="#"){e.skipToEnd();return"comment"}else if(r=="0"&&e.eat("x")){e.eatWhile(/[\da-f]/i);return"number"}else if(r=="."&&e.eat(/\d/)){e.match(/\d*(?:e[+\-]?\d+)?/);return"number"}else if(/\d/.test(r)){e.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/);return"number"}else if(r=="'"||r=='"'){t.tokenize=tokenString(r);return"string"}else if(r=="`"){e.match(/[^`]+`/);return"string.special"}else if(r=="."&&e.match(/.(?:[.]|\d+)/)){return"keyword"}else if(/[a-zA-Z\.]/.test(r)){e.eatWhile(/[\w\.]/);var n=e.current();if(atoms.propertyIsEnumerable(n))return"atom";if(keywords.propertyIsEnumerable(n)){if(blockkeywords.propertyIsEnumerable(n)&&!e.match(/\s*if(\s+|$)/,false))curPunc="block";return"keyword"}if(builtins.propertyIsEnumerable(n))return"builtin";return"variable"}else if(r=="%"){if(e.skipTo("%"))e.next();return"variableName.special"}else if(r=="<"&&e.eat("-")||r=="<"&&e.match("<-")||r=="-"&&e.match(/>>?/)){return"operator"}else if(r=="="&&t.ctx.argList){return"operator"}else if(opChars.test(r)){if(r=="$")return"operator";e.eatWhile(opChars);return"operator"}else if(/[\(\){}\[\];]/.test(r)){curPunc=r;if(r==";")return"punctuation";return null}else{return null}}function tokenString(e){return function(t,r){if(t.eat("\\")){var n=t.next();if(n=="x")t.match(/^[a-f0-9]{2}/i);else if((n=="u"||n=="U")&&t.eat("{")&&t.skipTo("}"))t.next();else if(n=="u")t.match(/^[a-f0-9]{4}/i);else if(n=="U")t.match(/^[a-f0-9]{8}/i);else if(/[0-7]/.test(n))t.match(/^[0-7]{1,2}/);return"string.special"}else{var o;while((o=t.next())!=null){if(o==e){r.tokenize=tokenBase;break}if(o=="\\"){t.backUp(1);break}}return"string"}}}var ALIGN_YES=1,ALIGN_NO=2,BRACELESS=4;function push(e,t,r){e.ctx={type:t,indent:e.indent,flags:0,column:r.column(),prev:e.ctx}}function setFlag(e,t){var r=e.ctx;e.ctx={type:r.type,indent:r.indent,flags:r.flags|t,column:r.column,prev:r.prev}}function pop(e){e.indent=e.ctx.indent;e.ctx=e.ctx.prev}var r={startState:function(e){return{tokenize:tokenBase,ctx:{type:"top",indent:-e,flags:ALIGN_NO},indent:0,afterIdent:false}},token:function(e,t){if(e.sol()){if((t.ctx.flags&3)==0)t.ctx.flags|=ALIGN_NO;if(t.ctx.flags&BRACELESS)pop(t);t.indent=e.indentation()}if(e.eatSpace())return null;var r=t.tokenize(e,t);if(r!="comment"&&(t.ctx.flags&ALIGN_NO)==0)setFlag(t,ALIGN_YES);if((curPunc==";"||curPunc=="{"||curPunc=="}")&&t.ctx.type=="block")pop(t);if(curPunc=="{")push(t,"}",e);else if(curPunc=="("){push(t,")",e);if(t.afterIdent)t.ctx.argList=true}else if(curPunc=="[")push(t,"]",e);else if(curPunc=="block")push(t,"block",e);else if(curPunc==t.ctx.type)pop(t);else if(t.ctx.type=="block"&&r!="comment")setFlag(t,BRACELESS);t.afterIdent=r=="variable"||r=="keyword";return r},indent:function(e,t,r){if(e.tokenize!=tokenBase)return 0;var n=t&&t.charAt(0),o=e.ctx,i=n==o.type;if(o.flags&BRACELESS)o=o.prev;if(o.type=="block")return o.indent+(n=="{"?0:r.unit);else if(o.flags&ALIGN_YES)return o.column+(i?0:1);else return o.indent+(i?0:r.unit)},languageData:{wordChars:".",commentTokens:{line:"#"},autocomplete:commonAtoms.concat(commonBuiltins,commonKeywords)}};export{r};
//# sourceMappingURL=r-6f6c9fd0.js.map