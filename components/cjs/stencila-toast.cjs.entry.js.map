{"file":"stencila-toast.entry.cjs.js","mappings":";;;;;;;;;AAAA,MAAM,eAAe,GAAG,iiNAAiiN;;ACAzjN,MAAM,gBAAgB,GAAG,iiNAAiiN;;MCgB7iN,aAAa;EAP1B;;;;;;;IAkBU,gBAAW,GAAI,KAAK,CAAA;;;;;IAMpB,aAAQ,GAAI,IAAK,CAAA;;;;IAKjB,SAAI,GAAcA,0BAAU,CAAC,OAAO,CAAA;IAOpC,kBAAa,GAAG;MACtB,QAAQ,IAAI,CAAC,IAAI;QACf,KAAK,SAAS,EAAE;UACd,OAAO,iBAAiB,CAAA;SACzB;QACD,KAAK,QAAQ,EAAE;UACb,OAAO,QAAQ,CAAA;SAChB;QACD,KAAK,MAAM,EAAE;UACX,OAAO,eAAe,CAAA;SACvB;QACD,KAAK,SAAS,CAAC;QACf,SAAS;UACP,OAAO,UAAU,CAAA;SAClB;OACF;KACF,CAAA;IAEO,YAAO,GAAG;;MAChB,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;MACjC,MAAA,MAAA,IAAI,CAAC,EAAE,0CAAE,aAAa,0CAAE,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;KAC7C,CAAA;IAEO,qBAAgB,GAAG;MACzB,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;KAClC,CAAA;IAEO,gBAAW,GAAG;MACpB,IAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,EAAE;QACrD,OAAM;OACP;MAED,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;MAEjC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC;QAC/B,IAAI,CAAC,OAAO,EAAE,CAAA;OACf,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAA;KAClB,CAAA;IAEO,uBAAkB,GAAG;;MAC3B,MAAM,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,MAAAC,2BAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,mCAAI,EAAE,CAAC;SAChE,MAAM,CACL,CAAC,OAAkB,EAAE,EAAE,KAAK,CAAC,GAAG,OAAO,EAAE,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,EACpE,EAAE,CACH;SACA,MAAM,CACL,CAAC,EAAE,KACD,EAAE,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,iBAAiB;QAC9C,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,aAAa,CAAC,CACxC,CAAA;MAEH,OAAO,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,GAAG;QACtB,EAAE,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAA;QAEjC,IAAI,GAAG,KAAK,CAAC,EAAE;UACb,EAAE,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,CAAA;SACpC;QAED,IAAI,GAAG,GAAG,CAAC,EAAE;UACX,EAAE,CAAC,YAAY,CAAC,OAAO,EAAE,SAAS,CAAC,CAAA;UACnC,EAAE,CAAC,YAAY,CAAC,SAAS,EAAE,SAAS,CAAC,CAAA;SACtC;OACF,CAAC,CAAA;KACH,CAAA;GAgDF;EA9CC,iBAAiB;IACf,IAAI,CAAC,kBAAkB,EAAE,CAAA;GAC1B;EAED,gBAAgB;IACd,IAAI,CAAC,WAAW,EAAE,CAAA;GACnB;EAED,MAAM;IACJ,QACEC,QAACC,UAAI,IACH,IAAI,EAAE,IAAI,CAAC,IAAI,EACf,QAAQ,EAAE,IAAI,CAAC,QAAQ,EACvB,WAAW,EAAE,IAAI,CAAC,WAAW,KAAK,IAAI,IAAI,IAAI,CAAC,QAAQ,KAAK,CAAC,EAC7D,YAAY,EAAE,IAAI,CAAC,gBAAgB,EACnC,YAAY,EAAE,IAAI,CAAC,WAAW,IAE9BD,iBAAK,KAAK,EAAC,aAAa,IACtBA,2BACE,IAAI,EAAE,IAAI,CAAC,aAAa,EAAE,EAC1B,SAAS,EAAC,MAAM,GACD,CACb,EAENA,iBAAK,KAAK,EAAC,SAAS,IAClBA,kBAAM,IAAI,EAAC,OAAO,GAAQ,EAE1BA,qBAAa,EAEbA,kBAAM,IAAI,EAAC,SAAS,GAAQ,CACxB,EAEL,CAAC,IAAI,CAAC,WAAW,KAAK,IAAI,IAAI,IAAI,CAAC,QAAQ,KAAK,CAAC,MAChDA,6BACE,KAAK,EAAC,SAAS,EACf,QAAQ,EAAE,IAAI,EACd,IAAI,EAAC,OAAO,EACZ,OAAO,EAAE,IAAI,EACb,IAAI,EAAC,OAAO,EACZ,OAAO,EAAE,IAAI,CAAC,OAAO,EACrB,KAAK,EAAC,aAAa,GACF,CACpB,CACI,EACR;GACF;;;;;;;;;;","names":["ToastTypes","getSlotByName","h","Host"],"sources":["./src/components/toast/toast.css?tag=stencila-toast&mode=default","./src/components/toast/toast.css?tag=stencila-toast&mode=material","./src/components/toast/toast.tsx"],"sourcesContent":["@import '~@stencila/style-stencila/dist/atoms/toast.css';\n","@import '~@stencila/style-stencila/dist/atoms/toast.css';\n","import { Component, Element, h, Host, Prop } from '@stencil/core'\nimport { IconNames } from '../icon/iconNames'\nimport { getSlotByName } from '../utils/slotSelectors'\nimport { ToastPosition, ToastType, ToastTypes } from './toastController'\n\n/*\n * Individual Toast component.\n * To present on the page see `./toastController.ts`\n */\n@Component({\n  tag: 'stencila-toast',\n  styleUrls: {\n    default: 'toast.css',\n    material: 'toast.css',\n  },\n})\nexport class StencilaToast {\n  @Element()\n  private el: HTMLStencilaToastElement | null\n\n  private timeout: number\n\n  /**\n   * If true, shows a \"close\" button to immediately dismiss the toast.\n   * Note that this prop has no effect if `duration` is set to zero, in which case\n   * the toast will always show the \"close\" button.\n   */\n  @Prop() dismissable? = false\n\n  /**\n   * Duration in milliseconds for how long the toast should be display\n   * Setting `duration` to `0` will disable auto-dismissal of the toast.\n   */\n  @Prop() duration? = 4_000\n\n  /**\n   * Type of the toast to show. Affects the component colour scheme.\n   */\n  @Prop() type: ToastType = ToastTypes.neutral\n\n  /**\n   * Where on the screen to show the Toast. Overrides the base position set in the `ToastController` instance.\n   */\n  @Prop() position: ToastPosition | undefined\n\n  private getIconByType = (): IconNames => {\n    switch (this.type) {\n      case 'success': {\n        return 'checkbox-circle'\n      }\n      case 'danger': {\n        return 'forbid'\n      }\n      case 'warn': {\n        return 'error-warning'\n      }\n      case 'neutral':\n      default: {\n        return 'question'\n      }\n    }\n  }\n\n  private dismiss = () => {\n    window.clearTimeout(this.timeout)\n    this.el?.parentElement?.removeChild(this.el)\n  }\n\n  private pauseAutoDismiss = () => {\n    window.clearTimeout(this.timeout)\n  }\n\n  private autoDismiss = () => {\n    if (this.duration !== undefined && this.duration <= 0) {\n      return\n    }\n\n    window.clearTimeout(this.timeout)\n\n    this.timeout = window.setTimeout(() => {\n      this.dismiss()\n    }, this.duration)\n  }\n\n  private styleActionButtons = () => {\n    const buttons = Array.from(getSlotByName(this.el)('actions') ?? [])\n      .reduce(\n        (actions: Element[], el) => [...actions, ...Array.from(el.children)],\n        []\n      )\n      .filter(\n        (el) =>\n          el.tagName.toLowerCase() === 'stencila-button' &&\n          !el.classList.contains('closeButton')\n      )\n\n    buttons.forEach((el, idx) => {\n      el.setAttribute('size', 'xsmall')\n\n      if (idx === 0) {\n        el.setAttribute('color', this.type)\n      }\n\n      if (idx > 0) {\n        el.setAttribute('color', 'neutral')\n        el.setAttribute('minimal', 'minimal')\n      }\n    })\n  }\n\n  componentWillLoad() {\n    this.styleActionButtons()\n  }\n\n  componentDidLoad() {\n    this.autoDismiss()\n  }\n\n  render() {\n    return (\n      <Host\n        type={this.type}\n        position={this.position}\n        dismissable={this.dismissable === true || this.duration === 0}\n        onMouseEnter={this.pauseAutoDismiss}\n        onMouseLeave={this.autoDismiss}\n      >\n        <div class=\"toastAccent\">\n          <stencila-icon\n            icon={this.getIconByType()}\n            iconStyle=\"fill\"\n          ></stencila-icon>\n        </div>\n\n        <div class=\"content\">\n          <slot name=\"title\"></slot>\n\n          <slot></slot>\n\n          <slot name=\"actions\"></slot>\n        </div>\n\n        {(this.dismissable === true || this.duration === 0) && (\n          <stencila-button\n            color=\"neutral\"\n            iconOnly={true}\n            icon=\"close\"\n            minimal={true}\n            size=\"small\"\n            onClick={this.dismiss}\n            class=\"closeButton\"\n          ></stencila-button>\n        )}\n      </Host>\n    )\n  }\n}\n"],"version":3}