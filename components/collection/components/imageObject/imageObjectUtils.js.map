{"version":3,"file":"imageObjectUtils.js","sourceRoot":"","sources":["../../../src/components/imageObject/imageObjectUtils.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,CAAC,EAAE,MAAM,eAAe,CAAA;AAEjC,OAAO,EAAE,YAAY,EAAE,MAAM,0CAA0C,CAAA;AACvE,OAAO,EAAE,cAAc,EAAE,MAAM,8CAA8C,CAAA;AAE7E;;;;;;;;GAQG;AACH,MAAM,CAAC,MAAM,6BAA6B,GAAG,CAC3C,KAAkB,EAC+C,EAAE;EACnE,MAAM,EAAE,OAAO,EAAE,GAAG,KAAK,CAAA;EAEzB,IAAI,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;IAChD,KAAK,MAAM,IAAI,IAAI,OAAO,EAAE;MAC1B,IAAI,cAAc,CAAC,IAAI,CAAC;QACtB,OAAO,CACL,6BACE,MAAM,EAAE,IAAI,CAAC,MAAM,EACnB,IAAI,EAAE,IAAI,CAAC,IAAI,EACf,MAAM,EAAE,IAAI,CAAC,MAAM;UAEnB;YACE,6BAAuB,KAAK,EAAE,KAAK,GAA0B,CACrD,CACY,CACzB,CAAA;MACH,IAAI,YAAY,CAAC,IAAI,CAAC,EAAE;QACtB,OAAO,CACL,2BAAqB,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO;UACzD;YACE,6BAAuB,KAAK,EAAE,KAAK,GAA0B,CACrD,CACU,CACvB,CAAA;OACF;KACF;GACF;EAED,OAAO,6BAAuB,KAAK,EAAE,KAAK,GAA0B,CAAA;AACtE,CAAC,CAAA","sourcesContent":["import { h } from '@stencil/core'\nimport { ImageObject } from '@stencila/schema'\nimport { isVegaObject } from '../imageDynamic/imageVega/imageVegaUtils'\nimport { isPlotlyObject } from '../imageDynamic/imagePlotly/imagePlotlyUtils'\n\n/**\n * Return the preferred component for an `ImageObject`.\n *\n * Looks in the `content` property of the image (if any) and returns\n * a component for the first recognized node in that array. Similar\n * in behaviour to the HTML `<picture>` element.\n *\n * @param image The image to return a component for\n */\nexport const preferredImageObjectComponent = (\n  image: ImageObject\n): HTMLStencilaImageObjectElement | HTMLStencilaImagePlotlyElement => {\n  const { content } = image\n\n  if (Array.isArray(content) && content.length > 0) {\n    for (const node of content) {\n      if (isPlotlyObject(node))\n        return (\n          <stencila-image-plotly\n            config={node.config}\n            data={node.data}\n            layout={node.layout}\n          >\n            <picture>\n              <stencila-image-object image={image}></stencila-image-object>\n            </picture>\n          </stencila-image-plotly>\n        )\n      if (isVegaObject(node)) {\n        return (\n          <stencila-image-vega spec={node.spec} options={node.options}>\n            <picture>\n              <stencila-image-object image={image}></stencila-image-object>\n            </picture>\n          </stencila-image-vega>\n        )\n      }\n    }\n  }\n\n  return <stencila-image-object image={image}></stencila-image-object>\n}\n"]}