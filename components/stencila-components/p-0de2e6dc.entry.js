import{r as e,f as t,h as a,e as o,c as r}from"./p-42c7aa22.js";import{L as i}from"./p-128435b3.js";import{f as c,a as n}from"./p-f10a134c.js";const s=".sc-stencila-code-fragment-default-h,stencila-code-fragment.sc-stencila-code-fragment-default{--background:var(--color-stock,#fff);--background-buttons:var(--color-neutral-50,#edf2f7);--border:var(--color-neutral-100,#e2e8f0);background-color:var(--background);border-color:var(--border);border-radius:.25rem;border-style:solid;border-width:1px;color:#4a4a4a;color:var(--color-key,#4a4a4a);display:-ms-inline-flexbox;display:inline-flex;font-size:.875rem;line-height:1.25rem;line-height:1;padding:0;vertical-align:text-bottom;white-space:nowrap}.sc-stencila-code-fragment-default-h .actionsSecondary.sc-stencila-code-fragment-default,stencila-code-fragment.sc-stencila-code-fragment-default .actionsSecondary.sc-stencila-code-fragment-default{background-color:var(--background-buttons);cursor:default;display:inline-block;overflow:hidden;-webkit-transition-duration:.15s;transition-duration:.15s;-webkit-transition-property:color,background-color,border-color,fill,stroke,opacity,-webkit-text-decoration-color,-webkit-box-shadow,-webkit-transform,-webkit-filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,fill,stroke,opacity,-webkit-text-decoration-color,-webkit-box-shadow,-webkit-transform,-webkit-filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-text-decoration-color,-webkit-box-shadow,-webkit-transform,-webkit-filter,-webkit-backdrop-filter;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-timing-function:cubic-bezier(0,0,.2,1);transition-timing-function:cubic-bezier(0,0,.2,1);width:0}.hover.sc-stencila-code-fragment-default-h .actionsSecondary.sc-stencila-code-fragment-default,.sc-stencila-code-fragment-default-h:focus .actionsSecondary.sc-stencila-code-fragment-default,.sc-stencila-code-fragment-default-h:focus-within .actionsSecondary.sc-stencila-code-fragment-default,.sc-stencila-code-fragment-default-h:hover .actionsSecondary.sc-stencila-code-fragment-default,stencila-code-fragment.hover.sc-stencila-code-fragment-default .actionsSecondary.sc-stencila-code-fragment-default,stencila-code-fragment.sc-stencila-code-fragment-default:focus .actionsSecondary.sc-stencila-code-fragment-default,stencila-code-fragment.sc-stencila-code-fragment-default:focus-within .actionsSecondary.sc-stencila-code-fragment-default,stencila-code-fragment.sc-stencila-code-fragment-default:hover .actionsSecondary.sc-stencila-code-fragment-default{display:-ms-inline-flexbox;display:inline-flex;max-width:100%;width:1.25rem}.sc-stencila-code-fragment-default-h .text.sc-stencila-code-fragment-default,stencila-code-fragment.sc-stencila-code-fragment-default .text.sc-stencila-code-fragment-default{background-color:var(--background-editor);padding:.25rem}";const l=".sc-stencila-code-fragment-material-h,stencila-code-fragment.sc-stencila-code-fragment-material{--background:var(--color-stock,#fff);--background-buttons:var(--color-neutral-50,#edf2f7);--border:var(--color-neutral-100,#e2e8f0);background-color:var(--background);border-color:var(--border);border-radius:.25rem;border-style:solid;border-width:1px;color:#4a4a4a;color:var(--color-key,#4a4a4a);display:-ms-inline-flexbox;display:inline-flex;font-size:.875rem;line-height:1.25rem;line-height:1;padding:0;vertical-align:text-bottom;white-space:nowrap}.sc-stencila-code-fragment-material-h .actionsSecondary.sc-stencila-code-fragment-material,stencila-code-fragment.sc-stencila-code-fragment-material .actionsSecondary.sc-stencila-code-fragment-material{background-color:var(--background-buttons);cursor:default;display:inline-block;overflow:hidden;-webkit-transition-duration:.15s;transition-duration:.15s;-webkit-transition-property:color,background-color,border-color,fill,stroke,opacity,-webkit-text-decoration-color,-webkit-box-shadow,-webkit-transform,-webkit-filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,fill,stroke,opacity,-webkit-text-decoration-color,-webkit-box-shadow,-webkit-transform,-webkit-filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-text-decoration-color,-webkit-box-shadow,-webkit-transform,-webkit-filter,-webkit-backdrop-filter;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-timing-function:cubic-bezier(0,0,.2,1);transition-timing-function:cubic-bezier(0,0,.2,1);width:0}.hover.sc-stencila-code-fragment-material-h .actionsSecondary.sc-stencila-code-fragment-material,.sc-stencila-code-fragment-material-h:focus .actionsSecondary.sc-stencila-code-fragment-material,.sc-stencila-code-fragment-material-h:focus-within .actionsSecondary.sc-stencila-code-fragment-material,.sc-stencila-code-fragment-material-h:hover .actionsSecondary.sc-stencila-code-fragment-material,stencila-code-fragment.hover.sc-stencila-code-fragment-material .actionsSecondary.sc-stencila-code-fragment-material,stencila-code-fragment.sc-stencila-code-fragment-material:focus .actionsSecondary.sc-stencila-code-fragment-material,stencila-code-fragment.sc-stencila-code-fragment-material:focus-within .actionsSecondary.sc-stencila-code-fragment-material,stencila-code-fragment.sc-stencila-code-fragment-material:hover .actionsSecondary.sc-stencila-code-fragment-material{display:-ms-inline-flexbox;display:inline-flex;max-width:100%;width:1.25rem}.sc-stencila-code-fragment-material-h .text.sc-stencila-code-fragment-material,stencila-code-fragment.sc-stencila-code-fragment-material .text.sc-stencila-code-fragment-material{background-color:var(--background-editor);padding:.25rem}";const d=class{constructor(a){e(this,a);this.languageChange=t(this,"stencila-language-change",7);this.contentChange=t(this,"stencila-content-change",7);var o,r;this.mode="read";this.languageCapabilities=c;this.executableLanguages=(r=(o=window.stencilaWebClient)===null||o===void 0?void 0:o.executableLanguages)!==null&&r!==void 0?r:{};this.onSelectLanguage=e=>{this.languageChange.emit(n(e));this.programmingLanguage=e};this.contentChangeHandler=e=>{var t;const a=e.currentTarget;this.contentChange.emit((t=a.textContent)!==null&&t!==void 0?t:"")};this.selectTextSlot=()=>this.el.querySelector(`.text`)}onDiscoverExecutableLanguages({detail:e}){this.executableLanguages=e.languages}async getTextContents(){var e;const t=this.selectTextSlot();return Promise.resolve((e=t===null||t===void 0?void 0:t.textContent)!==null&&e!==void 0?e:"")}render(){var e;return a(o,{class:"text"},a("span",{class:"actionsSecondary"},a(i,{activeLanguage:(e=this.programmingLanguage)!==null&&e!==void 0?e:"",executableLanguages:this.executableLanguages,onSetLanguage:this.onSelectLanguage,languageCapabilities:this.languageCapabilities,disabled:this.mode==="read"})),a("span",{class:"text",contentEditable:this.mode==="edit",onInput:this.contentChangeHandler,role:"textbox"},a("slot",{name:"text"})))}get el(){return r(this)}};d.style={default:s,material:l};export{d as stencila_code_fragment};
//# sourceMappingURL=p-0de2e6dc.entry.js.map