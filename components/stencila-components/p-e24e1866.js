function e(e){var r={};for(var n=0;n<e.length;++n)r[e[n]]=true;return r}var r=["NULL","NA","Inf","NaN","NA_integer_","NA_real_","NA_complex_","NA_character_","TRUE","FALSE"];var n=["list","quote","bquote","eval","return","call","parse","deparse"];var t=["if","else","repeat","while","function","for","in","next","break"];var i=["if","else","repeat","while","function","for"];var f=e(r);var l=e(n);var a=e(t);var u=e(i);var o=/[+\-*\/^<>=!&|~$:]/;var s;function c(e,r){s=null;var n=e.next();if(n=="#"){e.skipToEnd();return"comment"}else if(n=="0"&&e.eat("x")){e.eatWhile(/[\da-f]/i);return"number"}else if(n=="."&&e.eat(/\d/)){e.match(/\d*(?:e[+\-]?\d+)?/);return"number"}else if(/\d/.test(n)){e.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/);return"number"}else if(n=="'"||n=='"'){r.tokenize=v(n);return"string"}else if(n=="`"){e.match(/[^`]+`/);return"string.special"}else if(n=="."&&e.match(/.(?:[.]|\d+)/)){return"keyword"}else if(/[a-zA-Z\.]/.test(n)){e.eatWhile(/[\w\.]/);var t=e.current();if(f.propertyIsEnumerable(t))return"atom";if(a.propertyIsEnumerable(t)){if(u.propertyIsEnumerable(t)&&!e.match(/\s*if(\s+|$)/,false))s="block";return"keyword"}if(l.propertyIsEnumerable(t))return"builtin";return"variable"}else if(n=="%"){if(e.skipTo("%"))e.next();return"variableName.special"}else if(n=="<"&&e.eat("-")||n=="<"&&e.match("<-")||n=="-"&&e.match(/>>?/)){return"operator"}else if(n=="="&&r.ctx.argList){return"operator"}else if(o.test(n)){if(n=="$")return"operator";e.eatWhile(o);return"operator"}else if(/[\(\){}\[\];]/.test(n)){s=n;if(n==";")return"punctuation";return null}else{return null}}function v(e){return function(r,n){if(r.eat("\\")){var t=r.next();if(t=="x")r.match(/^[a-f0-9]{2}/i);else if((t=="u"||t=="U")&&r.eat("{")&&r.skipTo("}"))r.next();else if(t=="u")r.match(/^[a-f0-9]{4}/i);else if(t=="U")r.match(/^[a-f0-9]{8}/i);else if(/[0-7]/.test(t))r.match(/^[0-7]{1,2}/);return"string.special"}else{var i;while((i=r.next())!=null){if(i==e){n.tokenize=c;break}if(i=="\\"){r.backUp(1);break}}return"string"}}}var p=1,d=2,b=4;function m(e,r,n){e.ctx={type:r,indent:e.indent,flags:0,column:n.column(),prev:e.ctx}}function k(e,r){var n=e.ctx;e.ctx={type:n.type,indent:n.indent,flags:n.flags|r,column:n.column,prev:n.prev}}function g(e){e.indent=e.ctx.indent;e.ctx=e.ctx.prev}const N={startState:function(e){return{tokenize:c,ctx:{type:"top",indent:-e,flags:d},indent:0,afterIdent:false}},token:function(e,r){if(e.sol()){if((r.ctx.flags&3)==0)r.ctx.flags|=d;if(r.ctx.flags&b)g(r);r.indent=e.indentation()}if(e.eatSpace())return null;var n=r.tokenize(e,r);if(n!="comment"&&(r.ctx.flags&d)==0)k(r,p);if((s==";"||s=="{"||s=="}")&&r.ctx.type=="block")g(r);if(s=="{")m(r,"}",e);else if(s=="("){m(r,")",e);if(r.afterIdent)r.ctx.argList=true}else if(s=="[")m(r,"]",e);else if(s=="block")m(r,"block",e);else if(s==r.ctx.type)g(r);else if(r.ctx.type=="block"&&n!="comment")k(r,b);r.afterIdent=n=="variable"||n=="keyword";return n},indent:function(e,r,n){if(e.tokenize!=c)return 0;var t=r&&r.charAt(0),i=e.ctx,f=t==i.type;if(i.flags&b)i=i.prev;if(i.type=="block")return i.indent+(t=="{"?0:n.unit);else if(i.flags&p)return i.column+(f?0:1);else return i.indent+(f?0:n.unit)},languageData:{wordChars:".",commentTokens:{line:"#"},autocomplete:r.concat(n,t)}};export{N as r};
//# sourceMappingURL=p-e24e1866.js.map