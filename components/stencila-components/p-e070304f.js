const n=(n,e={})=>{const{afterSelf:t}=e;return new Promise((async e=>{var o;if(typeof n.dataset.hold!=="undefined"&&"MutationObserver"in window){const o=new MutationObserver((([n])=>{var o;if(typeof n.target.dataset.hold==="undefined"){(o=t)===null||o===void 0?void 0:o();e()}}));o.observe(n,{attributeFilter:["data-hold"],attributes:true});return}if(typeof n.getAnimations!=="undefined"){Promise.all(n.getAnimations().map((n=>n.finished))).then((()=>{var n;(n=t)===null||n===void 0?void 0:n();e();return}))}else{const{animationName:a,animationDuration:s,transitionDuration:u}=window.getComputedStyle(n);if(a!=="none"&&s!=="0s"){r("animation")}else if(u!=="0s"){r("transition")}else{(o=t)===null||o===void 0?void 0:o();e()}function r(e){n.addEventListener(`${e}end`,i(e))}function i(o){return function(r){var i;if(r.target!==n)return;n.removeEventListener(`${o}end`,this);(i=t)===null||i===void 0?void 0:i();e();return}}}}))};const e=n=>n.replace(/([A-Z])/g,`-$1`).toLowerCase();const t=(n,e)=>{const t=o(e);for(const[o,r]of Object.entries(t)){n.style.setProperty(o,r)}};const o=(n,t="--",r={})=>{if(n==null)return r;switch(typeof n){case"string":{r[e(t)]=n;return r}case"number":{r[e(t)]=n.toString(10);return r}case"boolean":{r[e(t)]=n?`1`:`0`;return r}}if(Array.isArray(n)||typeof n==="object"){for(let[e,i]of Object.entries(n)){const n=[t,!t.endsWith("-")&&"-",e].filter(Boolean).join("");o(i,n,r)}return r}return r};const r=n=>n&&n.nodeType===n.ELEMENT_NODE&&typeof n.tagName!=="undefined";const i=(n,e)=>typeof n.dataset[e]!=="undefined";function a(n,e=this){try{function t(e){if(!e||e===document||e===window)return null;let o=e.closest(n);return o?o:t(e.getRootNode().host)}return t(e)}catch(o){return null}}const s=n=>{const e=Array.from(n.querySelectorAll("animate-presence"));const t=Array.from(n.querySelectorAll(":scope animate-presence animate-presence"));return e.filter((n=>!t.includes(n)))};const u=async n=>Promise.all(s(n).map((n=>n.exit())));const c=async n=>Promise.all(s(n).map((n=>n.enter())));const f=()=>{let n=document.head.querySelector("[data-ap-global]");if(n)return;n=document.createElement("style");n.dataset.apGlobal="";n.textContent=`animate-presence>[data-enter][style*="--i:"],animate-presence>[data-exit][style*="--i:"]{animation-fill-mode:both;}`;document.head.appendChild(n)};export{c as a,r as b,a as c,u as e,i as h,f as i,n as p,t as s};
//# sourceMappingURL=p-e070304f.js.map