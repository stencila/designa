var __extends=this&&this.__extends||function(){var t=function(e,n){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))t[n]=e[n]};return t(e,n)};return function(e,n){if(typeof n!=="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();System.register(["./p-2e66c77c.system.js","./p-6cc918a4.system.js","./p-33366d5a.system.js","./p-5cd8524a.system.js"],(function(t){"use strict";var e,n,r,s,i,a,o,h,u,p,l,f,c,d;return{setters:[function(t){e=t.L;n=t.d;r=t.i;s=t.N;i=t.s;a=t.T;o=t.a;h=t.b;u=t.l;p=t.P;l=t.c;f=t.g;c=t.e;d=t.t},function(){},function(){},function(){}],execute:function(){function g(t,e,n,r,s){if(r===void 0){r=0}if(s===void 0){s=0}if(e==null){e=t.search(/[^\s\u00a0]/);if(e==-1)e=t.length}var i=s;for(var a=r;a<e;a++){if(t.charCodeAt(a)==9)i+=n-i%n;else i++}return i}var v=function(){function t(t,e,n){this.string=t;this.tabSize=e;this.indentUnit=n;this.pos=0;this.start=0;this.lastColumnPos=0;this.lastColumnValue=0}t.prototype.eol=function(){return this.pos>=this.string.length};t.prototype.sol=function(){return this.pos==0};t.prototype.peek=function(){return this.string.charAt(this.pos)||undefined};t.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};t.prototype.eat=function(t){var e=this.string.charAt(this.pos);var n;if(typeof t=="string")n=e==t;else n=e&&(t instanceof RegExp?t.test(e):t(e));if(n){++this.pos;return e}};t.prototype.eatWhile=function(t){var e=this.pos;while(this.eat(t)){}return this.pos>e};t.prototype.eatSpace=function(){var t=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>t};t.prototype.skipToEnd=function(){this.pos=this.string.length};t.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1){this.pos=e;return true}};t.prototype.backUp=function(t){this.pos-=t};t.prototype.column=function(){if(this.lastColumnPos<this.start){this.lastColumnValue=g(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue};t.prototype.indentation=function(){return g(this.string,null,this.tabSize)};t.prototype.match=function(t,e,n){if(typeof t=="string"){var r=function(t){return n?t.toLowerCase():t};var s=this.string.substr(this.pos,t.length);if(r(s)==r(t)){if(e!==false)this.pos+=t.length;return true}else return null}else{var i=this.string.slice(this.pos).match(t);if(i&&i.index>0)return null;if(i&&e!==false)this.pos+=i[0].length;return i}};t.prototype.current=function(){return this.string.slice(this.start,this.pos)};return t}();t("StringStream",v);function m(t){return{token:t.token,blankLine:t.blankLine||function(){},startState:t.startState||function(){return true},copyState:t.copyState||y,indent:t.indent||function(){return null},languageData:t.languageData||{},tokenTable:t.tokenTable||A}}function y(t){if(typeof t!="object")return t;var e={};for(var n in t){var r=t[n];e[n]=r instanceof Array?r.slice():r}return e}var k=function(t){__extends(e,t);function e(e){var i=this;var a=n(e.languageData);var o=m(e),h;var u=new(function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.createParse=function(t,e,n){return new S(h,t,e,n)};return e}(p));i=t.call(this,a,u,M(a),[r.of((function(t,e){return i.getIndent(t,e)}))])||this;h=i;i.streamParser=o;i.stateAfter=new s({perNode:true});i.tokenTable=e.tokenTable?new V(o.tokenTable):z;return i}e.define=function(t){return new e(t)};e.prototype.getIndent=function(t,e){var n=i(t.state),r=n.resolve(e);while(r&&r.type!=this.topNode)r=r.parent;if(!r)return null;var s=b(this,n,0,r.from,e),a,o;if(s){o=s.state;a=s.pos+1}else{o=this.streamParser.startState(t.unit);a=0}if(e-a>1e4)return null;while(a<e){var h=t.state.doc.lineAt(a),u=Math.min(e,h.to);if(h.length){var p=new v(h.text,t.state.tabSize,t.unit);while(p.pos<u-h.from)x(this.streamParser.token,p,o)}else{this.streamParser.blankLine(o,t.unit)}if(u==e)break;a=h.to+1}var l=t.lineAt(e).text;return this.streamParser.indent(o,/^\s*(.*)/.exec(l)[1],t)};Object.defineProperty(e.prototype,"allowsNesting",{get:function(){return false},enumerable:false,configurable:true});return e}(e);t("StreamLanguage",k);function b(t,e,n,r,s){var i=n>=r&&n+e.length<=s&&e.prop(t.stateAfter);if(i)return{state:t.streamParser.copyState(i),pos:n+e.length};for(var o=e.children.length-1;o>=0;o--){var h=e.children[o],u=n+e.positions[o];var p=h instanceof a&&u<s&&b(t,h,u,r,s);if(p)return p}return null}function P(t,e,n,r,s){if(s&&n<=0&&r>=e.length)return e;if(!s&&e.type==t.topNode)s=true;for(var i=e.children.length-1;i>=0;i--){var o=e.positions[i],h=e.children[i],u=void 0;if(o<r&&h instanceof a){if(!(u=P(t,h,n-o,r-o,s)))break;return!s?u:new a(e.type,e.children.slice(0,i).concat(u),e.positions.slice(0,i+1),o+u.length)}}return null}function w(t,e,n,r){for(var s=0,i=e;s<i.length;s++){var o=i[s];var h=o.from+(o.openStart?25:0),u=o.to-(o.openEnd?25:0);var p=h<=n&&u>n&&b(t,o.tree,0-o.offset,n,u),l=void 0;if(p&&(l=P(t,o.tree,n+o.offset,p.pos+o.offset,false)))return{state:p.state,tree:l}}return{state:t.streamParser.startState(r?f(r):4),tree:a.empty}}var S=function(){function t(t,e,n,r){this.lang=t;this.input=e;this.fragments=n;this.ranges=r;this.stoppedAt=null;this.chunks=[];this.chunkPos=[];this.chunk=[];this.chunkReused=undefined;this.rangeIndex=0;this.to=r[r.length-1].to;var s=l.get(),i=r[0].from;var a=w(t,n,i,s===null||s===void 0?void 0:s.state),o=a.state,h=a.tree;this.state=o;this.parsedPos=this.chunkStart=i+h.length;for(var u=0;u<h.children.length;u++){this.chunks.push(h.children[u]);this.chunkPos.push(h.positions[u])}if(s&&this.parsedPos<s.viewport.from-1e5){this.state=this.lang.streamParser.startState(f(s.state));s.skipUntilInView(this.parsedPos,s.viewport.from);this.parsedPos=s.viewport.from}}t.prototype.advance=function(){var t=l.get();var e=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt);var n=Math.min(e,this.chunkStart+2048);if(t)n=Math.min(n,t.viewport.to);while(this.parsedPos<n)this.parseLine(t);if(this.chunkStart<this.parsedPos)this.finishChunk();if(this.parsedPos>=e)return this.finish();if(t&&this.parsedPos>=t.viewport.to){t.skipUntilInView(this.parsedPos,e);return this.finish()}return null};t.prototype.stopAt=function(t){this.stoppedAt=t};t.prototype.lineAfter=function(t){var e=this.input.chunk(t);if(!this.input.lineChunks){var n=e.indexOf("\n");if(n>-1)e=e.slice(0,n)}else if(e=="\n"){e=""}return t+e.length<=this.to?e:e.slice(0,this.to-t)};t.prototype.nextLine=function(){var t=this.parsedPos,e=this.lineAfter(t),n=t+e.length;for(var r=this.rangeIndex;;){var s=this.ranges[r].to;if(s>=n)break;e=e.slice(0,s-(n-e.length));r++;if(r==this.ranges.length)break;var i=this.ranges[r].from;var a=this.lineAfter(i);e+=a;n=i+a.length}return{line:e,end:n}};t.prototype.skipGapsTo=function(t,e,n){for(;;){var r=this.ranges[this.rangeIndex].to,s=t+e;if(n>0?r>s:r>=s)break;var i=this.ranges[++this.rangeIndex].from;e+=i-r}return e};t.prototype.emitToken=function(t,e,n,r,s){if(this.ranges.length>1){s=this.skipGapsTo(e,s,1);e+=s;var i=this.chunk.length;s=this.skipGapsTo(n,s,-1);n+=s;r+=this.chunk.length-i}this.chunk.push(t,e,n,r);return s};t.prototype.parseLine=function(t){var e=this.nextLine(),n=e.line,r=e.end,s=0,i=this.lang.streamParser;var a=new v(n,t?t.state.tabSize:4,t?f(t.state):2);if(a.eol()){i.blankLine(this.state,a.indentUnit)}else{while(!a.eol()){var o=x(i.token,a,this.state);if(o)s=this.emitToken(this.lang.tokenTable.resolve(o),this.parsedPos+a.start,this.parsedPos+a.pos,4,s);if(a.start>1e4)break}}this.parsedPos=r;if(this.parsedPos<this.to)this.parsedPos++};t.prototype.finishChunk=function(){var t=a.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:T,topID:0,maxBufferLength:2048,reused:this.chunkReused});t=new a(t.type,t.children,t.positions,t.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]);this.chunks.push(t);this.chunkPos.push(this.chunkStart-this.ranges[0].from);this.chunk=[];this.chunkReused=undefined;this.chunkStart=this.parsedPos};t.prototype.finish=function(){return new a(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()};return t}();function x(t,e,n){e.start=e.pos;for(var r=0;r<10;r++){var s=t(e,n);if(e.pos>e.start)return s}throw new Error("Stream parser failed to advance stream.")}var A=Object.create(null);var _=[o.none];var T=new c(_);var C=[];var N=Object.create(null);for(var j=0,O=[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","typeName"],["attribute","propertyName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]];j<O.length;j++){var L=O[j],I=L[0],U=L[1];N[I]=E(A,U)}var V=function(){function t(t){this.extra=t;this.table=Object.assign(Object.create(null),N)}t.prototype.resolve=function(t){return!t?0:this.table[t]||(this.table[t]=E(this.extra,t))};return t}();var z=new V(A);function D(t,e){if(C.indexOf(t)>-1)return;C.push(t);console.warn(e)}function E(t,e){var n;var r=null;for(var s=0,i=e.split(".");s<i.length;s++){var a=i[s];var u=t[a]||d[a];if(!u){D(a,"Unknown highlighting tag ".concat(a))}else if(typeof u=="function"){if(!r)D(a,"Modifier ".concat(a," used at start of tag"));else r=u(r)}else{if(r)D(a,"Tag ".concat(a," used as modifier"));else r=u}}if(!r)return 0;var p=e.replace(/ /g,"_"),l=o.define({id:_.length,name:p,props:[h((n={},n[p]=r,n))]});_.push(l);return l.id}function M(t){var e=o.define({id:_.length,name:"Document",props:[u.add((function(){return t}))]});_.push(e);return e}}}}));
//# sourceMappingURL=p-70c2ffc3.system.js.map